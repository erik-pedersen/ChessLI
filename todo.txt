Fix while-loop logic in main.cpp main function.
Improve pawn logic
